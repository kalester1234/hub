{% extends "base.html" %}

{% block title %}Admin Login - Medical Connect{% endblock %}

{% block content %}
<div class="admin-auth-wrapper py-5">
    <div class="admin-auth-card">
        <div class="admin-auth-panel">
            <div class="admin-auth-brand">
                <div class="admin-auth-icon"><i class="bi bi-heart-pulse-fill"></i></div>
                <div>
                    <h2>HealthStack</h2>
                    <span>Admin Console</span>
                </div>
            </div>
            <p class="admin-auth-copy">
                Empower your healthcare operations with actionable insights, team management, and streamlined appointment tracking.
            </p>
            <div class="admin-auth-support">
                <strong>Need support?</strong>
                <span>Email help@healthstack.com or call +1-800-555-0123.</span>
            </div>
        </div>
        <div class="admin-auth-form">
            <div class="admin-auth-header">
                <h1>Welcome Back</h1>
                <p>Sign in with your administrator credentials to continue.</p>
            </div>
            {% if messages %}
            <div class="admin-auth-messages">
                {% for message in messages %}
                <div class="admin-auth-message">{{ message }}</div>
                {% endfor %}
            </div>
            {% endif %}
            {% if form.non_field_errors %}
            <div class="admin-auth-messages">
                {% for error in form.non_field_errors %}
                <div class="admin-auth-message">{{ error }}</div>
                {% endfor %}
            </div>
            {% endif %}
            <form method="post" novalidate>
                {% csrf_token %}
                <div class="admin-auth-field">
                    <label for="{{ form.username.id_for_label }}">Username</label>
                    {{ form.username }}
                    {% if form.username.errors %}
                    <div class="admin-auth-error">{{ form.username.errors|join:' ' }}</div>
                    {% endif %}
                </div>
                <div class="admin-auth-field admin-auth-password">
                    <label for="{{ form.password.id_for_label }}">Password</label>
                    {{ form.password }}
                    <button type="button" class="admin-auth-toggle" id="togglePassword"><i class="bi bi-eye"></i></button>
                    {% if form.password.errors %}
                    <div class="admin-auth-error">{{ form.password.errors|join:' ' }}</div>
                    {% endif %}
                </div>
                <button type="submit" class="admin-auth-submit">
                    <i class="bi bi-box-arrow-in-right"></i>
                    Sign in
                </button>
            </form>
            <div class="admin-auth-alt">
                Not an admin? <a href="{% url 'login' %}">Return to user login</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.admin-auth-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #F0FDF9 0%, #ECF3FF 100%);
    min-height: calc(100vh - 200px);
}
.admin-auth-card {
    display: grid;
    grid-template-columns: minmax(260px, 320px) minmax(320px, 420px);
    width: min(820px, 100%);
    background: #ffffff;
    border-radius: 28px;
    overflow: hidden;
    box-shadow: 0 40px 80px rgba(15, 39, 65, 0.12);
}
.admin-auth-panel {
    background: linear-gradient(180deg, #0BA57A 0%, #0D8C9B 100%);
    color: #ffffff;
    padding: 48px 36px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}
.admin-auth-brand {
    display: flex;
    align-items: center;
    gap: 14px;
}
.admin-auth-icon {
    width: 52px;
    height: 52px;
    border-radius: 18px;
    background: rgba(255, 255, 255, 0.18);
    display: grid;
    place-items: center;
    font-size: 26px;
}
.admin-auth-brand h2 {
    margin: 0;
    font-size: 1.7rem;
    font-weight: 700;
}
.admin-auth-brand span {
    font-size: 0.95rem;
    opacity: 0.85;
}
.admin-auth-copy {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    opacity: 0.9;
}
.admin-auth-support {
    display: flex;
    flex-direction: column;
    gap: 6px;
    font-size: 0.9rem;
}
.admin-auth-form {
    padding: 48px 52px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}
.admin-auth-header h1 {
    margin: 0;
    font-size: 2rem;
    font-weight: 700;
    color: #12344D;
}
.admin-auth-header p {
    margin: 8px 0 0;
    color: #607B8A;
}
.admin-auth-field {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.admin-auth-field label {
    font-weight: 600;
    color: #12344D;
}
.admin-auth-form .form-control {
    border-radius: 14px;
    border: 1px solid #D7E1EA;
    padding: 14px 16px;
    font-size: 1rem;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.admin-auth-form .form-control:focus {
    border-color: #0BA57A;
    box-shadow: 0 0 0 4px rgba(11, 165, 122, 0.18);
}
.admin-auth-password {
    position: relative;
}
.admin-auth-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    border: none;
    background: transparent;
    color: #607B8A;
    font-size: 1.1rem;
    cursor: pointer;
}
.admin-auth-error {
    color: #C0392B;
    font-size: 0.9rem;
}
.admin-auth-messages {
    display: grid;
    gap: 10px;
}
.admin-auth-message {
    background: rgba(192, 57, 43, 0.12);
    color: #922B21;
    padding: 12px 14px;
    border-radius: 12px;
    font-weight: 600;
}
.admin-auth-submit {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    padding: 15px 18px;
    border-radius: 14px;
    border: none;
    font-size: 1rem;
    font-weight: 600;
    color: #ffffff;
    background: linear-gradient(135deg, #0BA57A 0%, #0D8C9B 100%);
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.admin-auth-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 18px 30px rgba(13, 140, 155, 0.22);
}
.admin-auth-alt {
    text-align: center;
    color: #607B8A;
    font-size: 0.95rem;
}
.admin-auth-alt a {
    color: #0BA57A;
    font-weight: 600;
    text-decoration: none;
}
.admin-auth-alt a:hover {
    text-decoration: underline;
}
@media (max-width: 992px) {
    .admin-auth-card {
        grid-template-columns: 1fr;
    }
    .admin-auth-panel {
        display: none;
    }
    .admin-auth-form {
        padding: 40px 32px;
    }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
const togglePassword = document.getElementById('togglePassword');
const passwordField = document.getElementById('{{ form.password.id_for_label }}');
if (togglePassword && passwordField) {
    togglePassword.addEventListener('click', () => {
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);
        togglePassword.innerHTML = type === 'password' ? '<i class="bi bi-eye"></i>' : '<i class="bi bi-eye-slash"></i>';
    });
}
</script>
{% endblock %}
