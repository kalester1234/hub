{% extends "admin/base.html" %}
{% load static %}

{% block title %}Medical Connect Admin{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
    :root {
        --doctor-primary: #00897b;
        --doctor-primary-dark: #00695c;
        --doctor-surface: #e5f4f2;
        --doctor-card: #ffffff;
        --doctor-shadow: 0 18px 45px rgba(0, 137, 123, 0.18);
        --doctor-border: rgba(0, 137, 123, 0.18);
        --doctor-text: #0f3d37;
        --doctor-muted: #4b6b66;
    }

    body {
        background: var(--doctor-surface);
        font-family: "Segoe UI", Tahoma, sans-serif;
        color: var(--doctor-text);
    }

    #header {
        background: linear-gradient(135deg, var(--doctor-primary), var(--doctor-primary-dark));
        border-radius: 24px;
        margin: clamp(16px, 4vw, 24px);
        padding: clamp(16px, 4vw, 28px);
        box-shadow: var(--doctor-shadow);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        flex-wrap: wrap;
        grid-area: header;
    }

    #branding h1,
    #branding h1 a {
        color: #ffffff;
        font-weight: 700;
        font-size: 1.6rem;
        text-decoration: none;
    }

    .admin-branding .tagline {
        color: rgba(255, 255, 255, 0.78);
        margin: 6px 0 0;
        font-size: 0.95rem;
        font-weight: 500;
    }

    #user-tools {
        color: rgba(255, 255, 255, 0.9);
        font-weight: 500;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    #user-tools a {
        color: rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.12);
        padding: 6px 14px;
        border-radius: 999px;
        text-decoration: none;
        transition: background 0.2s ease, color 0.2s ease;
    }

    #user-tools a:hover {
        background: rgba(255, 255, 255, 0.2);
    }

    #content {
        background: var(--doctor-card);
        border-radius: 24px;
        margin: 0;
        padding: clamp(20px, 4vw, 36px);
        box-shadow: var(--doctor-shadow);
        border: 1px solid var(--doctor-border);
        grid-area: content;
        min-width: 0;
    }

    #content h1,
    #content h2,
    #content h3,
    #content h4,
    #content h5 {
        color: var(--doctor-text);
        font-weight: 700;
    }

    body:not(.login) #container {
        display: grid;
        grid-template-columns: minmax(220px, 280px) 1fr;
        grid-template-rows: auto 1fr;
        grid-template-areas:
            "header header"
            "sidebar content";
        align-items: start;
        gap: clamp(16px, 4vw, 32px);
        margin: 0 clamp(16px, 4vw, 32px) clamp(32px, 5vw, 56px);
    }

    body:not(.login) #content-main {
        display: grid;
        gap: clamp(16px, 3vw, 28px);
    }

    .breadcrumbs {
        background: rgba(0, 137, 123, 0.12);
        border-radius: 14px;
        margin-bottom: 24px;
        padding: 12px 18px;
        color: var(--doctor-muted);
    }

    .module {
        border: 1px solid var(--doctor-border);
        border-radius: 18px;
        box-shadow: 0 12px 32px rgba(16, 30, 115, 0.08);
        padding: 24px;
        background: var(--doctor-card);
        overflow-x: auto;
    }

    .module caption,
    .module h2 {
        border-bottom: 1px solid rgba(0, 137, 123, 0.22);
        padding-bottom: 12px;
        margin-bottom: 18px;
        font-size: 1.1rem;
        color: var(--doctor-primary-dark);
    }

    .module table {
        width: 100%;
        border-spacing: 0;
    }

    .module table thead {
        background: rgba(0, 137, 123, 0.08);
    }

    .module table th,
    .module table td {
        padding: 14px 16px;
        color: var(--doctor-text);
        border-bottom: 1px solid rgba(0, 137, 123, 0.12);
        white-space: nowrap;
    }

    .module table th {
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.8rem;
        letter-spacing: 0.04em;
    }

    .module table td {
        white-space: normal;
    }

    .module table tr:nth-child(even) {
        background: rgba(0, 137, 123, 0.04);
    }

    .module table tr:hover {
        background: rgba(0, 137, 123, 0.12);
    }

    .submit-row {
        padding: clamp(14px, 3vw, 22px);
        background: rgba(0, 137, 123, 0.08);
        border-radius: 16px;
        border: 1px solid var(--doctor-border);
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: flex-end;
    }

    .button,
    a.button,
    button.button,
    .submit-row input[type="submit"],
    .submit-row input[type="button"],
    .submit-row button,
    .submit-row .button {
        background: var(--doctor-primary);
        border: none;
        border-radius: 12px;
        color: #ffffff;
        font-weight: 600;
        padding: 10px 22px;
        box-shadow: 0 10px 24px rgba(0, 137, 123, 0.32);
        transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
    }

    .button:hover,
    .button:focus,
    a.button:hover,
    a.button:focus,
    button.button:hover,
    button.button:focus,
    .submit-row input[type="submit"]:hover,
    .submit-row input[type="button"]:hover,
    .submit-row button:hover,
    .submit-row .button:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 28px rgba(10, 116, 218, 0.45);
        background: var(--doctor-primary-dark);
        color: #ffffff;
    }

    .button.default,
    .submit-row .default,
    .submit-row input.default {
        background: var(--doctor-primary);
        color: #ffffff;
    }

    .button.cancel,
    a.button.cancel,
    button.cancel {
        background: rgba(0, 137, 123, 0.12);
        color: var(--doctor-primary-dark);
        box-shadow: none;
        border: 1px solid var(--doctor-border);
    }

    .button.cancel:hover,
    .button.cancel:focus,
    a.button.cancel:hover,
    a.button.cancel:focus,
    button.cancel:hover,
    button.cancel:focus {
        background: rgba(10, 116, 218, 0.18);
        border-color: rgba(10, 116, 218, 0.45);
        color: var(--doctor-primary-dark);
        transform: none;
    }

    .deletelink,
    .submit-row a.deletelink {
        background: rgba(220, 53, 69, 0.18);
        color: #b11e31;
        box-shadow: none;
    }

    .deletelink:hover,
    .deletelink:focus,
    .submit-row a.deletelink:hover,
    .submit-row a.deletelink:focus {
        background: rgba(220, 53, 69, 0.28);
        color: #8e1626;
        transform: none;
    }

    .button:disabled,
    .button[disabled],
    a.button[aria-disabled="true"],
    .submit-row input[disabled],
    .submit-row button[disabled] {
        background: rgba(10, 116, 218, 0.25);
        box-shadow: none;
        cursor: not-allowed;
        transform: none;
    }

    .module .addlink,
    .module .changelink,
    .module .deletelink,
    .module .viewlink {
        border-radius: 999px;
        padding: 6px 14px;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.75rem;
        letter-spacing: 0.04em;
    }

    .module .addlink { background: rgba(25, 135, 84, 0.15); color: #1f7f50; }
    .module .changelink { background: rgba(10, 116, 218, 0.18); color: var(--doctor-primary-dark); }
    .module .deletelink { background: rgba(220, 53, 69, 0.18); color: #b11e31; }
    .module .viewlink { background: rgba(108, 117, 125, 0.18); color: #495057; }

    form .aligned .form-row,
    .form-row {
        display: grid;
        grid-template-columns: minmax(180px, 220px) 1fr;
        gap: clamp(12px, 3vw, 18px);
        align-items: center;
        margin-bottom: clamp(12px, 3vw, 18px);
    }

    form .aligned .form-row .field-box label,
    .form-row label {
        font-weight: 600;
        color: var(--doctor-muted);
    }

    form .aligned .form-row .field-box input,
    form .aligned .form-row .field-box select,
    form .aligned .form-row .field-box textarea,
    .form-row input,
    .form-row select,
    .form-row textarea {
        border-radius: 12px;
        border: 1px solid var(--doctor-border);
        padding: 12px 16px;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
        background: #fdfdff;
    }

    .form-row input:focus,
    .form-row select:focus,
    .form-row textarea:focus {
        outline: none;
        border-color: var(--doctor-primary);
        box-shadow: 0 0 0 3px rgba(10, 116, 218, 0.22);
    }

    #nav-sidebar .current-app .section,
    #nav-sidebar .current-model {
        background: rgba(10, 116, 218, 0.14);
        border-radius: 12px;
    }

    #nav-sidebar::-webkit-scrollbar {
        width: 8px;
    }

    #nav-sidebar::-webkit-scrollbar-track {
        background: rgba(0, 137, 123, 0.08);
        border-radius: 10px;
    }

    #nav-sidebar::-webkit-scrollbar-thumb {
        background: rgba(10, 116, 218, 0.4);
        border-radius: 10px;
    }

    #nav-sidebar {
        background: var(--doctor-card);
        border-radius: 18px;
        padding: clamp(16px, 3vw, 24px);
        margin: 0;
        box-shadow: 0 12px 32px rgba(16, 30, 115, 0.08);
        border: 1px solid var(--doctor-border);
        position: sticky;
        top: clamp(96px, 10vw, 140px);
        max-height: calc(100vh - clamp(128px, 12vw, 180px));
        overflow: auto;
        grid-area: sidebar;
        align-self: stretch;
    }

    #nav-sidebar h2 {
        text-transform: uppercase;
        font-size: 0.8rem;
        letter-spacing: 0.12em;
        color: var(--doctor-muted);
        margin-bottom: 12px;
    }

    #nav-sidebar .module caption {
        border-bottom: none;
        margin-bottom: 8px;
        padding-bottom: 0;
    }

    #nav-sidebar ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 8px;
    }

    #nav-sidebar li a {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 16px;
        border-radius: 12px;
        color: var(--doctor-text);
        font-weight: 600;
        text-decoration: none;
        transition: background 0.2s ease, color 0.2s ease;
    }

    #nav-sidebar li a:hover,
    #nav-sidebar li a:focus {
        background: rgba(17, 181, 197, 0.12);
        color: var(--doctor-primary-dark);
    }

    .dashboard #content {
        display: grid;
        gap: clamp(18px, 3vw, 28px);
    }

    .dashboard .app-index {
        display: grid;
        gap: clamp(18px, 3vw, 28px);
    }

    .dashboard .app-index .module {
        display: grid;
        gap: clamp(12px, 2vw, 18px);
    }

    .dashboard .app-index .module ul {
        display: grid;
        gap: 10px;
    }

    .object-tools {
        margin-bottom: 18px;
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: flex-end;
    }

    .object-tools a {
        background: var(--doctor-primary);
        border-radius: 999px;
        color: #ffffff;
        font-weight: 600;
        padding: 8px 18px;
        text-transform: uppercase;
        letter-spacing: 0.04em;
        box-shadow: 0 10px 24px rgba(17, 181, 197, 0.25);
    }

    .inline-group {
        border-radius: 20px;
        border: 1px solid var(--doctor-border);
        box-shadow: 0 12px 28px rgba(16, 30, 115, 0.08);
        overflow: hidden;
        background: var(--doctor-card);
    }

    .inline-group h2 {
        background: rgba(10, 116, 218, 0.1);
        padding: clamp(14px, 3vw, 24px);
        margin: 0;
    }

    .inline-related {
        padding: clamp(16px, 3vw, 28px);
        display: grid;
        gap: clamp(12px, 3vw, 18px);
    }

    .selector {
        display: grid;
        gap: clamp(12px, 3vw, 18px);
    }

    .selector select {
        min-height: 220px;
        border-radius: 16px;
        border: 1px solid var(--doctor-border);
        box-shadow: inset 0 2px 8px rgba(0, 137, 123, 0.08);
    }

    .selector-available h2, .selector-chosen h2 {
        color: var(--doctor-primary-dark);
    }

    .selector-chosen .selector-chooser {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    #footer {
        background: transparent;
        color: var(--doctor-muted);
        text-align: center;
        margin-bottom: 24px;
    }

    @media (max-width: 1280px) {
        body:not(.login) #container {
            grid-template-columns: minmax(220px, 260px) 1fr;
        }
    }

    @media (max-width: 1024px) {
        body:not(.login) #container {
            grid-template-columns: 1fr;
            grid-template-rows: auto;
            grid-template-areas:
                "header"
                "content"
                "sidebar";
        }

        #nav-sidebar {
            position: static;
            max-height: none;
        }

        #header {
            margin: clamp(16px, 4vw, 24px);
        }

        .submit-row {
            justify-content: center;
        }

        .object-tools {
            justify-content: flex-start;
        }
    }

    @media (max-width: 768px) {
        body:not(.login) #container {
            margin: clamp(12px, 4vw, 24px);
        }

        #header {
            flex-direction: column;
            align-items: flex-start;
        }

        #user-tools {
            justify-content: flex-start;
        }

        form .aligned .form-row,
        .form-row {
            grid-template-columns: 1fr;
        }

        .module table {
            display: block;
            overflow-x: auto;
        }
    }

    @media (max-width: 576px) {
        #header {
            border-radius: 18px;
        }

        .submit-row {
            flex-direction: column;
            align-items: stretch;
        }

        .object-tools {
            flex-direction: column;
            align-items: stretch;
        }

        #nav-sidebar li a {
            padding: 10px 12px;
        }
    }
</style>
{% endblock %}

{% block branding %}
<div class="admin-branding">
    <h1><a href="{% url 'admin:index' %}">Medical Connect Control Center</a></h1>
    <p class="tagline">Manage doctors, appointments, and patient experiences with ease</p>
</div>
{% endblock %}

{% block nav-sidebar %}
<aside class="admin-sidebar doctor-theme-sidebar">
    {{ block.super }}
</aside>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const nav = document.querySelector(".doctor-theme-sidebar ul");
        if (!nav) return;
        nav.querySelectorAll("li a").forEach(function (link) {
            link.addEventListener("mouseenter", function () {
                link.classList.add("hovering");
            });
            link.addEventListener("mouseleave", function () {
                link.classList.remove("hovering");
            });
        });
    });
</script>
{% endblock %}
